/Users/lhp/Library/Caches/pypoetry/virtualenvs/haok-Gc5Digdj-py3.11/bin/python /Users/lhp/Desktop/haok/haok/exp2/alfworld_exp.py
Initializing AlfredTWEnv...
  0%|          | 0/341 [00:00<?, ?it/s]-> Skipping missing solvable key! /Users/lhp/Desktop/haok/data/alfworld/json_2.1.1/valid_unseen/pick_cool_then_place_in_recep-Tomato-None-Microwave-10/trial_T20190909_102644_926781/game.tw-pddl
100%|██████████| 341/341 [00:00<00:00, 813.63it/s]
-> Skipping missing solvable key! /Users/lhp/Desktop/haok/data/alfworld/json_2.1.1/valid_unseen/pick_clean_then_place_in_recep-Spatula-None-Drawer-10/trial_T20190907_080730_211959/game.tw-pddl
Overall we have 132 games in split=eval_out_of_distribution
Evaluating with 132 games
pick_cool_then_place_in_recep-Tomato-None-Microwave-10/trial_T20190909_102710_795182
pick_cool_then_place cool
You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.
Your task is to: put a cool tomato in microwave.
Act 1: think: To solve the task, I need to find and take a tomato, then cool it with the fridge, and finally put it in the microwave.
Obs 1: OK.
Act 2: think: First, I need to find a tomato. A tomato is more likely to appear in countertop (1-3), fridge (1), shelf (1-3), cabinet (1-6), drawer (1-3). I can check one by one, starting with countertop 1.
Obs 2: OK.
Act 3: go to countertop 1
Obs 3: On the countertop 1, you see a peppershaker 2, and a tomato 1.
Act 4: take tomato 1 from countertop 1
Obs 4: You pick up the tomato 1 from the countertop 1.
Act 5: think: Now I have a tomato (1). Next, I need to cool it with the fridge (1).
Obs 5: OK.
Act 6: go to fridge 1
Obs 6: The fridge 1 is closed.
Act 7: cool tomato 1 with fridge 1
Obs 7: You cool the tomato 1 using the fridge 1.
Act 8: think: Now I have a cool tomato (1). Next, I need to put it in the microwave.
Obs 8: OK.
Act 9: go to microwave 1
Obs 9: The microwave 1 is closed.
Act 10: put tomato 1 in/on microwave 1
Obs 10: Nothing happens.
Act 11: open microwave 1
Obs 11: You open the microwave 1. The microwave 1 is open. In it, you see nothing.
Act 12: put tomato 1 in/on microwave 1
Obs 12: You put the tomato 1 in/on the microwave 1.
1 r True rs [0, 0, 0, 1, 0, 0] cnts [0, 0, 0, 1, 0, 0] sum(rs)/sum(cnts) 1.0
------------

pick_heat_then_place_in_recep-Apple-None-Fridge-10/trial_T20190906_182435_622538
pick_heat_then_place heat
You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.
Your task is to: heat some apple and put it in fridge.
Act 1: think: To solve the task, I need to find and take an apple, then heat it with the microwave, and finally put it in the fridge.
Obs 1: OK.
Act 2: think: First, I need to find an apple. An apple is more likely to be in the fridge (1), countertop (1-3), drawer (1-3), cabinet (1-6), garbage can (1). I can start by checking the fridge 1.
Obs 2: OK.
Act 3: open fridge 1
Obs 3: Nothing happens.
Act 4: go to countertop 1
Obs 4: On the countertop 1, you see a pan 1, and a papertowelroll 1.
Act 5: go to countertop 2
Obs 5: On the countertop 2, you see a cellphone 2, a creditcard 1, a egg 1, a fork 1, a knife 2, a knife 1, a lettuce 2, a plate 3, a soapbottle 2, a statue 1, and a vase 1.
Act 6: go to countertop 3
Obs 6: On the countertop 3, you see a bread 1, a butterknife 1, a creditcard 3, a glassbottle 2, a houseplant 1, a lettuce 3, a pot 1, a spatula 1, and a statue 2.
Act 7: think: Now I find an apple. I can see that there is no apple on the countertops. I should check the drawer next.
Obs 7: OK.
Act 8: go to drawer 1
Obs 8: The drawer 1 is closed.
Act 9: open drawer 1
Obs 9: You open the drawer 1. The drawer 1 is open. In it, you see a cellphone 1, a creditcard 2, and a saltshaker 2.
Act 10: go to drawer 2
Obs 10: The drawer 2 is closed.
Act 11: open drawer 2
Obs 11: You open the drawer 2. The drawer 2 is open. In it, you see a dishsponge 1.
Act 12: go to drawer 3
Obs 12: The drawer 3 is closed.
Act 13: open drawer 3
Obs 13: You open the drawer 3. The drawer 3 is open. In it, you see a peppershaker 2, and a saltshaker 3.
Act 14: think: Now I find an apple. I can see that there is no apple in the drawers. I should check the cabinets next.
Obs 14: OK.
Act 15: go to cabinet 1
Obs 15: On the cabinet 1, you see a bowl 2, and a soapbottle 1.
Act 16: go to cabinet 2
Obs 16: The cabinet 2 is closed.
Act 17: open cabinet 2
Obs 17: You open the cabinet 2. The cabinet 2 is open. In it, you see a plate 1, and a saltshaker 1.
Act 18: go to cabinet 3
Obs 18: On the cabinet 3, you see a peppershaker 1, and a plate 2.
Act 19: go to cabinet 4
Obs 19: On the cabinet 4, you see a bowl 1.
Act 20: think: Now I find an apple. I can see that there is no apple in the cabinets. I should check the fridge next.
Obs 20: OK.
Act 21: go to fridge 1
Obs 21: The fridge 1 is closed.
Act 22: open fridge 1
Obs 22: You open the fridge 1. The fridge 1 is open. In it, you see a apple 1, a bowl 3, a cup 2, a cup 1, a egg 3, a lettuce 1, a potato 2, a potato 1, and a tomato 1.
Act 23: take apple 1 from fridge 1
Obs 23: You pick up the apple 1 from the fridge 1.
Act 24: think: Now I have the apple (1). Next, I need to go to the microwave (1) and heat it.
Obs 24: OK.
Act 25: go to microwave 1
Obs 25: The microwave 1 is closed.
Act 26: heat apple 1 with microwave 1
Obs 26: You heat the apple 1 using the microwave 1.
Act 27: think: Now I have heated the apple (1). Next, I need to put it in the fridge (1).
Obs 27: OK.
Act 28: go to fridge 1
Obs 28: The fridge 1 is open. In it, you see a bowl 3, a cup 2, a cup 1, a egg 3, a lettuce 1, a potato 2, a potato 1, and a tomato 1.
Act 29: put apple 1 in/on fridge 1
Obs 29: You put the apple 1 in/on the fridge 1.
2 r True rs [0, 0, 1, 1, 0, 0] cnts [0, 0, 1, 1, 0, 0] sum(rs)/sum(cnts) 1.0
------------

pick_clean_then_place_in_recep-Pan-None-CounterTop-10/trial_T20190908_032543_712058
pick_clean_then_place clean
You are in the middle of a room. Looking quickly around you, you see a cabinet 6, a cabinet 5, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a coffeemachine 1, a countertop 3, a countertop 2, a countertop 1, a drawer 3, a drawer 2, a drawer 1, a fridge 1, a garbagecan 1, a microwave 1, a shelf 3, a shelf 2, a shelf 1, a sinkbasin 1, a stoveburner 4, a stoveburner 3, a stoveburner 2, a stoveburner 1, and a toaster 1.
Your task is to: put a clean pan in countertop.
Act 1: think: To solve the task, I need to find and take a pan, then clean it with sinkbasin, then put it on countertop.
Obs 1: OK.
Act 2: think: First I need to find a pan. A pan is more likely to appear in fridge (1), countertop (1-3), sinkbasin (1), stoveburner (1-4), cabinet (1-6). I can check one by one, starting with fridge 1.
Obs 2: OK.
Act 3: go to fridge 1
Obs 3: The fridge 1 is closed.
Act 4: open fridge 1
Obs 4: You open the fridge 1. The fridge 1 is open. In it, you see a apple 3, a apple 2, a apple 1, a mug 1, a potato 3, a potato 2, and a potato 1.
Act 5: go to countertop 1
Obs 5: On the countertop 1, you see a mug 2, and a pan 1.
Act 6: take pan 1 from countertop 1
Obs 6: You pick up the pan 1 from the countertop 1.
Act 7: think: Now I take a pan (1). Next, I need to go to sinkbasin (1) and clean it.
Obs 7: OK.
Act 8: go to sinkbasin 1
Obs 8: On the sinkbasin 1, you see nothing.
Act 9: think: I need to find water to clean the pan. Water is more likely to appear in sinkbasin (1), fridge (1), and countertop (1-3). I can check one by one, starting with sinkbasin 1.
Obs 9: OK.
Act 10: go to sinkbasin 1
Obs 10: Nothing happens.
Act 11: look around sinkbasin 1
Obs 11: Nothing happens.
Act 12: look in sinkbasin 1
Obs 12: Nothing happens.
Act 13: open sinkbasin 1
Obs 13: Nothing happens.
Act 14: open sinkbasin 1
Obs 14: Nothing happens.
Act 15: open sinkbasin 1
Obs 15: Nothing happens.
Act 16: open sinkbasin 1
Obs 16: Nothing happens.
Act 17: open sinkbasin 1
Obs 17: Nothing happens.
Act 18: open sinkbasin 1
Obs 18: Nothing happens.
Act 19: open sinkbasin 1
Obs 19: Nothing happens.
Act 20: open sinkbasin 1
Obs 20: Nothing happens.
Act 21: open sinkbasin 1
Obs 21: Nothing happens.
Act 22: open sinkbasin 1
Obs 22: Nothing happens.
Act 23: open sinkbasin 1
Obs 23: Nothing happens.
Act 24: open sinkbasin 1
Obs 24: Nothing happens.
Act 25: open sinkbasin 1
Obs 25: Nothing happens.
Act 26: open sinkbasin 1
Obs 26: Nothing happens.
Act 27: open sinkbasin 1
Obs 27: Nothing happens.
Act 28: open sinkbasin 1
Obs 28: Nothing happens.
Act 29: open sinkbasin 1
Obs 29: Nothing happens.
Act 30: open sinkbasin 1
Obs 30: Nothing happens.
Act 31: open sinkbasin 1
Obs 31: Nothing happens.
Act 32: open sinkbasin 1
Obs 32: Nothing happens.
Act 33: open sinkbasin 1
Obs 33: Nothing happens.
Act 34: open sinkbasin 1
Obs 34: Nothing happens.
Act 35: open sinkbasin 1
Obs 35: Nothing happens.
Act 36: open sinkbasin 1
Obs 36: Nothing happens.
Act 37: open sinkbasin 1
Obs 37: Nothing happens.
Act 38: open sinkbasin 1
Obs 38: Nothing happens.
Act 39: open sinkbasin 1
Obs 39: Nothing happens.
Act 40: open sinkbasin 1
Obs 40: Nothing happens.
Act 41: open sinkbasin 1
Obs 41: Nothing happens.
Act 42: open sinkbasin 1
Obs 42: Nothing happens.
Act 43: open sinkbasin 1
Obs 43: Nothing happens.
Act 44: open sinkbasin 1
Obs 44: Nothing happens.
Act 45: open sinkbasin 1
Obs 45: Nothing happens.
Act 46: open sinkbasin 1
Obs 46: Nothing happens.
Act 47: open sinkbasin 1
Obs 47: Nothing happens.
Act 48: open sinkbasin 1
Obs 48: Nothing happens.
Act 49: open sinkbasin 1
Obs 49: Nothing happens.
3 r 0 rs [0, 0, 1, 1, 0, 0] cnts [0, 1, 1, 1, 0, 0] sum(rs)/sum(cnts) 0.6666666666666666
------------

pick_and_place_simple-Watch-None-Safe-219/trial_T20190907_074556_124850
pick_and_place put
You are in the middle of a room. Looking quickly around you, you see a armchair 1, a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a drawer 5, a drawer 4, a drawer 3, a drawer 2, a drawer 1, a dresser 1, a garbagecan 1, a safe 1, a shelf 12, a shelf 11, a shelf 10, a shelf 9, a shelf 8, a shelf 7, a shelf 6, a shelf 5, a shelf 4, a shelf 3, a shelf 2, a shelf 1, a sidetable 1, and a sofa 1.
Your task is to: put some watch on safe.
Act 1: think: To solve the task, I need to find and take a watch, then put it on the safe.
Obs 1: OK.
Act 2: think: First I need to find a watch. A watch is more likely to appear in a drawer (1-5), a dresser (1), a shelf (1-12), a sidetable (1), or a cabinet (1-4). I can start by checking the drawers first.
Obs 2: OK.
Act 3: go to drawer 1
Obs 3: The drawer 1 is closed.
Act 4: open drawer 1
Obs 4: You open the drawer 1. The drawer 1 is open. In it, you see a watch 1.
Act 5: think: Now I find a watch (1). Next, I need to take it.
Obs 5: OK.
Act 6: take watch 1 from drawer 1
Obs 6: You pick up the watch 1 from the drawer 1.
Act 7: think: Now I have taken the watch (1). Next, I need to put it on the safe.
Obs 7: OK.
Act 8: go to safe 1
Obs 8: The safe 1 is closed.
Act 9: open safe 1
Obs 9: You open the safe 1. The safe 1 is open. In it, you see a vase 3, and a vase 2.
Act 10: put watch 1 on safe 1
Obs 10: Nothing happens.
Act 11: put watch 1 in/on safe 1
Obs 11: You put the watch 1 in/on the safe 1.
4 r True rs [1, 0, 1, 1, 0, 0] cnts [1, 1, 1, 1, 0, 0] sum(rs)/sum(cnts) 0.75
------------

pick_clean_then_place_in_recep-Cloth-None-Cabinet-424/trial_T20190908_022321_380927
pick_clean_then_place clean
You are in the middle of a room. Looking quickly around you, you see a cabinet 4, a cabinet 3, a cabinet 2, a cabinet 1, a countertop 1, a garbagecan 1, a handtowelholder 2, a handtowelholder 1, a sinkbasin 2, a sinkbasin 1, a toilet 1, a toiletpaperhanger 1, and a towelholder 1.
Your task is to: clean some cloth and put it in cabinet.
Act 1: think: To solve the task, I need to find and take a cloth, then clean it with sinkbasin, then put it in/on a cabinet.
Obs 1: OK.
Act 2: think: First I need to find a cloth. A cloth is more likely to appear in sinkbasin (1-2), handtowelholder (1-2), towelholder (1), and countertop (1). I can check one by one, starting with sinkbasin 1.
Obs 2: OK.
Act 3: go to sinkbasin 1
Obs 3: On the sinkbasin 1, you see nothing.
Act 4: go to sinkbasin 2
Obs 4: On the sinkbasin 2, you see nothing.
Act 5: go to handtowelholder 1
Obs 5: On the handtowelholder 1, you see nothing.
Act 6: go to handtowelholder 2
Obs 6: On the handtowelholder 2, you see a handtowel 1.
Act 7: take cloth 1 from handtowelholder 2
Obs 7: Nothing happens.
Act 8: take handtowel 1 from handtowelholder 2
Obs 8: You pick up the handtowel 1 from the handtowelholder 2.
Act 9: think: Now I take a handtowel (1). Next, I need to go to sinkbasin (1) and clean it.
Obs 9: OK.
Act 10: go to sinkbasin 1
Obs 10: On the sinkbasin 1, you see nothing.
Act 11: go to sinkbasin 2
Obs 11: On the sinkbasin 2, you see nothing.
Act 12: go to handtowelholder 2
Obs 12: On the handtowelholder 2, you see nothing.
Act 13: go to countertop 1
Obs 13: On the countertop 1, you see a candle 2, a soapbar 1, a soapbottle 2, a soapbottle 1, and a spraybottle 1.
Act 14: think: I can't clean the handtowel with the items on the countertop. I need to find a sinkbasin to clean it.
Obs 14: OK.
Act 15: go to sinkbasin 2
Obs 15: On the sinkbasin 2, you see nothing.
Act 16: go to sinkbasin 1
Obs 16: On the sinkbasin 1, you see nothing.
Act 17: think: I can't find a sinkbasin to clean the handtowel. I need to find another location with water to clean it.
Obs 17: OK.
Act 18: go to toilet 1
Obs 18: On the toilet 1, you see a candle 3, a toiletpaper 2, and a toiletpaper 1.
Act 19: think: I can't clean the handtowel in the toilet. I need to find another location with water to clean it.
Obs 19: OK.
Act 20: go to sinkbasin 1
Obs 20: On the sinkbasin 1, you see nothing.
Act 21: go to sinkbasin 2
Obs 21: On the sinkbasin 2, you see nothing.
Act 22: think: I can't find a sinkbasin to clean the handtowel. I need to find another location with water to clean it.
Obs 22: OK.
Act 23: go to towelholder 1
Obs 23: On the towelholder 1, you see a towel 1.
Act 24: take towel 1 from towelholder 1
Obs 24: Nothing happens.
Act 25: take handtowel 1 from handtowelholder 2
Obs 25: Nothing happens.
Act 26: take handtowel 1 from handtowelholder 1
Obs 26: Nothing happens.
Act 27: take handtowel 1 from handtowelholder 1
Obs 27: Nothing happens.
Act 28: take handtowel 1 from handtowelholder 2
Obs 28: Nothing happens.
Act 29: take handtowel 1 from handtowelholder 2
Obs 29: Nothing happens.
Act 30: take handtowel 1 from handtowelholder 2
Obs 30: Nothing happens.
Act 31: take handtowel 1 from handtowelholder 2
Obs 31: Nothing happens.
Act 32: take handtowel 1 from handtowelholder 2
Obs 32: Nothing happens.
Act 33: take handtowel 1 from handtowelholder 2
Obs 33: Nothing happens.
Act 34: take handtowel 1 from handtowelholder 2
Obs 34: Nothing happens.
Act 35: take handtowel 1 from handtowelholder 2
Obs 35: Nothing happens.
Act 36: take handtowel 1 from handtowelholder 2
Obs 36: Nothing happens.
Act 37: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 37: Nothing happens.
Act 38: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 38: Nothing happens.
Act 39: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 39: Nothing happens.
Act 40: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 40: Nothing happens.
Act 41: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 41: Nothing happens.
Act 42: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 42: Nothing happens.
Act 43: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 43: Nothing happens.
Act 44: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 44: Nothing happens.
Act 45: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 45: Nothing happens.
Act 46: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 46: Nothing happens.
Act 47: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 47: Nothing happens.
Act 48: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 48: Nothing happens.
Act 49: It seems like there is no handtowel available to clean and put in the cabinet. You may need to look for other items or locations to complete the task.
Obs 49: Nothing happens.
5 r 0 rs [1, 0, 1, 1, 0, 0] cnts [1, 2, 1, 1, 0, 0] sum(rs)/sum(cnts) 0.6
------------

[True, True, 0, True, 0]
[12, 29, 49, 11, 49]

Process finished with exit code 0
